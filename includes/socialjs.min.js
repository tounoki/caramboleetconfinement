/*! socialjs - v2.2.0 - 2018-10-19
* https://www.andreasnorman.com/socialjs/
* Copyright (c) 2018 ; Licensed  */

!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.socialjs=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var i,a,c={},u=!!document.querySelector&&!!t.addEventListener,r=0,s=0,o=0,d=0,l=0,p={container:".socialjs",fetchCounts:!0,shortCount:!0,https:!1,urls:{GooglePlus:"backend/GooglePlusCall.php",Pinterest:"backend/PinterestCall.php",Facebook:"http://graph.facebook.com/",Linkedin:"http://www.linkedin.com/countserv/count/share",Reddit:"http://www.reddit.com/api/info.json"},onInit:function(){},OnAttachEvents:function(){},onDestroy:function(){},onClick:function(){}},f=function(t){var e=A(t,"basecount");t.querySelector(".count").innerHTML=I(e),r+=e,e},w=function(n){var t=i.urls.Facebook+"?id="+R(n),o=new XMLHttpRequest;o.open("GET",t,!0),o.onload=function(){if(200<=o.status&&o.status<400){var t=0,e=JSON.parse(o.response);s=(t=void 0!==e.shares?parseInt(A(n,"basecount"))+parseInt(e.shares,10):parseInt(A(n,"basecount")),n.querySelector(".count").innerHTML=I(t),r+=t,t)}},o.onerror=function(){},o.send()},h=function(n){var t=i.urls.Linkedin+"?url="+R(n);e(t,function(t){var e=parseInt(A(n,"basecount"))+parseInt(t.count,10);n.querySelector(".count").innerHTML=I(e),r+=e,o=e})},b=function(n){var t=i.urls.Reddit+"?url="+R(n),o=new XMLHttpRequest;o.open("GET",t,!0),o.onload=function(){if(200<=o.status&&o.status<400){var t=JSON.parse(o.response),e=0;l=(e=Array.isArray(t.data.children)&&t.data.children.length?parseInt(A(n,"basecount"))+parseInt(t.data.children[0].data.score,10):parseInt(A(n,"basecount")),n.querySelector(".count").innerHTML=I(e),r+=e,e)}},o.onerror=function(){},o.send()},v=function(n){var t=i.urls.GooglePlus+"?url="+R(n),o=new XMLHttpRequest;o.open("GET",t,!0),o.onload=function(){if(200<=o.status&&o.status<400){var t=JSON.parse(o.response),e=parseInt(A(n,"basecount"))+parseInt(t,10);n.querySelector(".count").innerHTML=I(e),r+=e,d=e}},o.onerror=function(){},o.send()},m=function(o){o.addEventListener("click",function(t){t.preventDefault(),E("onClick");var e=R(o),n="u="+encodeURIComponent(e);encodeURIComponent(e);return window.facebook=window.facebook||{},window.facebook.shareWin=window.open("https://www.facebook.com/sharer/sharer.php?"+n,"",L()),!1})},g=function(r){r.addEventListener("click",function(t){t.preventDefault(),E("onClick");var e=r.hasAttribute("data-referer")?r.getAttribute("data-referer"):"",n=R(r),o="original_referer="+encodeURIComponent(e)+"&url="+encodeURIComponent(n);encodeURIComponent(n);return window.GooglePlus=window.GooglePlus||{},window.GooglePlus.shareWin=window.open("https://www.linkedin.com/cws/share?"+o+"&isFramed=true","",L()),!1})},k=function(o){o.addEventListener("click",function(t){t.preventDefault(),E("onClick");var e=R(o),n="url="+encodeURIComponent(e);encodeURIComponent(e);return window.Reddit=window.Reddit||{},window.Reddit.shareWin=window.open("https://www.reddit.com/submit?"+n,"",L()),!1})},C=function(r){r.addEventListener("click",function(t){t.preventDefault(),E("onClick");var e=r.hasAttribute("data-text")?r.getAttribute("data-text"):"",n=R(r),o="text="+encodeURIComponent(e)+"&url="+encodeURIComponent(n);encodeURIComponent(n);return window.GooglePlus=window.GooglePlus||{},window.GooglePlus.shareWin=window.open("https://plus.google.com/share?"+o,"",L()),!1})},y=function(a){a.addEventListener("click",function(t){t.preventDefault(),E("onClick");var e=a.hasAttribute("data-text")?a.getAttribute("data-text"):"",n=R(a),o=a.hasAttribute("data-via")?a.getAttribute("data-via"):"",r=a.hasAttribute("related")?a.getAttribute("related"):"",i="text="+encodeURIComponent(e)+"&url="+encodeURIComponent(n)+"&via="+o+"&related="+r;encodeURIComponent(n);return window.Twitter=window.Twitter||{},window.Twitter.shareWin=window.open("https://twitter.com/intent/tweet?"+i,"",L()),!1})},I=function(t){return i.shortCount&&(1e6<=t?t=parseInt((t/1e6).toFixed(2),10)+"M":1e3<=t&&(t=parseInt((t/1e3).toFixed(1),10)+"k")),t},R=function(t){var e=t.getAttribute("data-url");return null!=e&&""!==e?e:window.location.href},A=function(t,e){var n=t.getAttribute("data-"+e);return void 0!==n?n:""},e=function(t,e){var n="jsonp_callback_"+Math.round(1e5*Math.random());window[n]=function(t){delete window[n],document.body.removeChild(o),e(t)};var o=document.createElement("script");o.src=t+(0<=t.indexOf("?")?"&":"?")+"callback="+n,document.body.appendChild(o)},L=function(){var t=screen.height,e=screen.width,n=Math.round(e/2-275),o=0;document;return 335<t&&(o=Math.round(t/2-167.5)),"left="+n+",top="+o+",width=550,height=335,personalbar=0,toolbar=0,scrollbars=1,resizable=1"},E=function(t){void 0!==i[t]&&i[t].call(a)},S=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(n,t[o],o,t);else for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t)};return c.destroy=function(){i&&(document.documentElement.classList.remove(i.initClass),document.removeEventListener("click",eventHandler,!1),i=null,E("onDestroy"))},c.init=function(t){var n,o,r,e;u&&(!0===t.https&&(p.urls.Facebook="https://graph.facebook.com/",p.urls.Linkedin="https://www.linkedin.com/countserv/count/share",p.urls.Reddit="https://www.reddit.com/api/info.json"),"localhost"===document.location.hostname&&console.warn("SocialJS will not work properly when run on localhost. The URL must be accessible from the outside."),c.destroy(),o=t||{},r={},S(n=p,function(t,e){r[e]=n[e]}),S(o,function(t,e){r[e]=o[e]}),i=r,a=document.querySelector(i.container),e=a.querySelectorAll(".sharebutton"),S(e,function(t,e){"twitter"===t.getAttribute("data-sharetype")?(y(t),i.fetchCounts&&f(t)):"facebook"===t.getAttribute("data-sharetype")?(m(t),i.fetchCounts&&w(t)):"linkedin"===t.getAttribute("data-sharetype")?(g(t),i.fetchCounts&&h(t)):"googleplus"===t.getAttribute("data-sharetype")?(C(t),i.fetchCounts&&v(t)):"reddit"===t.getAttribute("data-sharetype")&&(k(t),i.fetchCounts&&b(t))}),E("OnAttachEvents"),E("onInit"))},c.getCount={Total:function(){return r},Facebook:function(){return s},Linkedin:function(){return o},GooglePlus:function(){return d},Reddit:function(){return l}},c});